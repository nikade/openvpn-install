Для маршуртизации (site-to-site) клиентам в конфиг добавляем
############################
topology subnet
pull-filter ignore "route-gateway"
pull-filter ignore "dhcp-option DNS"
############################

в конфиг сервера прописываем маршруты для каждго пира
######################
topology subnet
client-config-dir /etc/openvpn/server/ccd
route 172.30.0.0 255.255.240.0 172.30.16.1
route 172.30.32.0 255.255.240.0 172.30.16.1
#####################


в cdd/ создаем каталог для кадого пира
в который прописываем iroute - внутренняя сеть пира
и рамшруты в остальные сети, которые будут проталкиваться на клиета
###########
iroute 172.30.32.0 255.255.240.0
push "route 172.30.16.0 255.255.240.0 172.30.16.1"
push "route 172.30.0.0 255.255.240.0 172.30.16.1"
#################


маскарад для сети 172.30.16.0
iptables -t nat -A POSTROUTING -o ens3 -s 172.30.16.0/24 -j MASQUERADE